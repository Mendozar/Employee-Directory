{"ast":null,"code":"var _jsxFileName = \"/Users/fernandosotocalis/Desktop/Homework-19/employee-directory/src/components/Search.js\";\nimport React, { Component } from \"react\";\nimport EmployeeRow from \"./EmployeeRow\";\nimport moment from \"moment\";\nimport API from \"../utils/API\";\nimport SearchBox from \"./SeachBox\";\nimport Titles from \"./Titles\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [{}],\n      order: \"descend\",\n      filterdUsers: [{}],\n      loading: true,\n      search: \"\",\n      sorted: false\n    };\n\n    this.handleInputChange = event => {\n      let {\n        users,\n        search\n      } = this.state;\n      let searchEmployee = users.filter(sorted => {\n        return sorted.name.first.toLowerCase().includes(search.toLowerCase()) || sorted.name.last.toLowerCase().includes(search.toLowerCase()) || sorted.email.toLowerCase().includes(search.toLowerCase()) || sorted.cell.toLowerCase().includes(search.toLowerCase()) || sorted.dob.date.toLowerCase().includes(search.toLowerCase());\n      }); // console.log(event.target.value)\n\n      this.setState({\n        sorted: true\n      });\n      this.setState({\n        search: event.target.value\n      });\n      this.setState({\n        filterdUsers: searchEmployee\n      }); // console.log(this.state.filterdUsers)\n    };\n\n    this.handleSort = () => {\n      let {\n        users,\n        order\n      } = this.state;\n      console.log(\"trying to sort\");\n      users.sort(function (a, b) {\n        // var textA = a.name.first.toLowerCase();\n        // var textB = b.name.first.toLowerCase();\n        const isReversed = order === \"asc\" ? 1 : -1;\n        return console.log(a, b // isReversed * a.name.first.localeCompare(b.name.first)\n        ); // (textA < textB) ? -1 : (textA > textB) ? 1 : 0\n      });\n    };\n\n    this.searchEmployee = () => {\n      if (this.state.sorted) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 20\n          }\n        }, this.state.filterdUsers.map(users => /*#__PURE__*/React.createElement(EmployeeRow, {\n          key: users.dob.date,\n          img: users.picture.medium,\n          name: users.name.first + \" \" + users.name.last,\n          phone: users.cell,\n          email: users.email,\n          dob: moment(users.dob.date).format(\"MM-DD-YYYY\"),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }\n        })));\n      } else if (this.state.loading === false) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 20\n          }\n        }, this.state.users.map(users => /*#__PURE__*/React.createElement(EmployeeRow, {\n          key: users.dob.date,\n          img: users.picture.medium,\n          name: users.name.first + \" \" + users.name.last,\n          phone: users.cell,\n          email: users.email,\n          dob: moment(users.dob.date).format(\"MM-DD-YYYY\"),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }\n        })));\n      }\n    };\n  }\n\n  componentDidMount() {\n    API.getEmployee().then(res => {\n      // console.log(res.data)\n      this.setState({\n        users: res.data.results,\n        loading: false\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SearchBox, {\n      handleInput: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Titles, {\n      click: this.handleSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }), this.searchEmployee());\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/fernandosotocalis/Desktop/Homework-19/employee-directory/src/components/Search.js"],"names":["React","Component","EmployeeRow","moment","API","SearchBox","Titles","Search","state","users","order","filterdUsers","loading","search","sorted","handleInputChange","event","searchEmployee","filter","name","first","toLowerCase","includes","last","email","cell","dob","date","setState","target","value","handleSort","console","log","sort","a","b","isReversed","map","picture","medium","format","componentDidMount","getEmployee","then","res","data","results","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,MAAN,SAAqBN,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BO,KAD2B,GACnB;AACJC,MAAAA,KAAK,EAAE,CAAC,EAAD,CADH;AAEJC,MAAAA,KAAK,EAAE,SAFH;AAGJC,MAAAA,YAAY,EAAE,CAAC,EAAD,CAHV;AAIJC,MAAAA,OAAO,EAAE,IAJL;AAKJC,MAAAA,MAAM,EAAE,EALJ;AAMJC,MAAAA,MAAM,EAAE;AANJ,KADmB;;AAAA,SAW3BC,iBAX2B,GAWPC,KAAK,IAAI;AACzB,UAAI;AAAEP,QAAAA,KAAF;AAASI,QAAAA;AAAT,UAAoB,KAAKL,KAA7B;AACA,UAAIS,cAAc,GAAGR,KAAK,CAACS,MAAN,CAAaJ,MAAM,IAAI;AACxC,eACGA,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAkBC,WAAlB,GAAgCC,QAAhC,CAAyCT,MAAM,CAACQ,WAAP,EAAzC,KACAP,MAAM,CAACK,IAAP,CAAYI,IAAZ,CAAiBF,WAAjB,GAA+BC,QAA/B,CAAwCT,MAAM,CAACQ,WAAP,EAAxC,CADA,IAEAP,MAAM,CAACU,KAAP,CAAaH,WAAb,GAA2BC,QAA3B,CAAoCT,MAAM,CAACQ,WAAP,EAApC,CAFA,IAGAP,MAAM,CAACW,IAAP,CAAYJ,WAAZ,GAA0BC,QAA1B,CAAmCT,MAAM,CAACQ,WAAP,EAAnC,CAHA,IAIAP,MAAM,CAACY,GAAP,CAAWC,IAAX,CAAgBN,WAAhB,GAA8BC,QAA9B,CAAuCT,MAAM,CAACQ,WAAP,EAAvC,CALH;AAQH,OAToB,CAArB,CAFyB,CAYrB;;AACA,WAAKO,QAAL,CAAc;AAAEd,QAAAA,MAAM,EAAE;AAAV,OAAd;AACA,WAAKc,QAAL,CAAc;AAAEf,QAAAA,MAAM,EAAEG,KAAK,CAACa,MAAN,CAAaC;AAAvB,OAAd;AACA,WAAKF,QAAL,CAAc;AAAEjB,QAAAA,YAAY,EAAEM;AAAhB,OAAd,EAfqB,CAgBrB;AACP,KA5B0B;;AAAA,SA8B3Bc,UA9B2B,GA8Bd,MAAM;AACf,UAAI;AAAEtB,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAmB,KAAKF,KAA5B;AACAwB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAxB,MAAAA,KAAK,CAACyB,IAAN,CAAW,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACtB;AACA;AACA,cAAMC,UAAU,GAAI3B,KAAK,KAAK,KAAX,GAAoB,CAApB,GAAwB,CAAC,CAA5C;AACA,eAAOsB,OAAO,CAACC,GAAR,CAAYE,CAAZ,EAAeC,CAAf,CACH;AADG,SAAP,CAJsB,CAOlB;AAEP,OATD;AAUH,KA3C0B;;AAAA,SA6C3BnB,cA7C2B,GA6CV,MAAM;AACnB,UAAI,KAAKT,KAAL,CAAWM,MAAf,EAAuB;AACnB,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACF,KAAKN,KAAL,CAAWG,YAAX,CAAwB2B,GAAxB,CAA4B7B,KAAK,iBAC9B,oBAAC,WAAD;AACI,UAAA,GAAG,EAAEA,KAAK,CAACiB,GAAN,CAAUC,IADnB;AAEI,UAAA,GAAG,EAAElB,KAAK,CAAC8B,OAAN,CAAcC,MAFvB;AAGI,UAAA,IAAI,EAAE/B,KAAK,CAACU,IAAN,CAAWC,KAAX,GAAmB,GAAnB,GAAyBX,KAAK,CAACU,IAAN,CAAWI,IAH9C;AAII,UAAA,KAAK,EAAEd,KAAK,CAACgB,IAJjB;AAKI,UAAA,KAAK,EAAEhB,KAAK,CAACe,KALjB;AAMI,UAAA,GAAG,EAAErB,MAAM,CAACM,KAAK,CAACiB,GAAN,CAAUC,IAAX,CAAN,CAAuBc,MAAvB,CAA8B,YAA9B,CANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADE,CAAP;AAYH,OAbD,MAeK,IAAG,KAAKjC,KAAL,CAAWI,OAAX,KAAuB,KAA1B,EAAiC;AAClC,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACF,KAAKJ,KAAL,CAAWC,KAAX,CAAiB6B,GAAjB,CAAqB7B,KAAK,iBACvB,oBAAC,WAAD;AACI,UAAA,GAAG,EAAEA,KAAK,CAACiB,GAAN,CAAUC,IADnB;AAEI,UAAA,GAAG,EAAElB,KAAK,CAAC8B,OAAN,CAAcC,MAFvB;AAGI,UAAA,IAAI,EAAE/B,KAAK,CAACU,IAAN,CAAWC,KAAX,GAAmB,GAAnB,GAAyBX,KAAK,CAACU,IAAN,CAAWI,IAH9C;AAII,UAAA,KAAK,EAAEd,KAAK,CAACgB,IAJjB;AAKI,UAAA,KAAK,EAAEhB,KAAK,CAACe,KALjB;AAMI,UAAA,GAAG,EAAErB,MAAM,CAACM,KAAK,CAACiB,GAAN,CAAUC,IAAX,CAAN,CAAuBc,MAAvB,CAA8B,YAA9B,CANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADE,CAAP;AAaH;AAGJ,KA9E0B;AAAA;;AAgF3BC,EAAAA,iBAAiB,GAAG;AAChBtC,IAAAA,GAAG,CAACuC,WAAJ,GACCC,IADD,CACMC,GAAG,IAAK;AACV;AACA,WAAKjB,QAAL,CAAc;AAAEnB,QAAAA,KAAK,EAAEoC,GAAG,CAACC,IAAJ,CAASC,OAAlB;AAA2BnC,QAAAA,OAAO,EAAE;AAApC,OAAd;AACH,KAJD,EAKCoC,KALD,CAKOC,GAAG,IAAIjB,OAAO,CAACC,GAAR,CAAYgB,GAAZ,CALd;AAMH;;AAEDC,EAAAA,MAAM,GAAG;AACL,wBAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAW,MAAA,WAAW,EAAE,KAAKnC,iBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,KAAKgB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGK,KAAKd,cAAL,EAHL,CAFR;AAUH;;AApG0B;;AAuG/B,eAAeV,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport EmployeeRow from \"./EmployeeRow\";\nimport moment from \"moment\";\nimport API from \"../utils/API\";\nimport SearchBox from \"./SeachBox\";\nimport Titles from \"./Titles\";\n\nclass Search extends Component {\n    state = {\n        users: [{}],\n        order: \"descend\",\n        filterdUsers: [{}],\n        loading: true,\n        search: \"\",\n        sorted: false\n    };\n\n\n    handleInputChange = event => {\n        let { users, search } = this.state;\n        let searchEmployee = users.filter(sorted => {\n            return (\n               sorted.name.first.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.name.last.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.email.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.cell.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.dob.date.toLowerCase().includes(search.toLowerCase()) \n\n            )\n        })\n            // console.log(event.target.value)\n            this.setState({ sorted: true })\n            this.setState({ search: event.target.value });\n            this.setState({ filterdUsers: searchEmployee });\n            // console.log(this.state.filterdUsers)\n    };\n\n    handleSort = () => {\n        let { users, order } = this.state;\n        console.log(\"trying to sort\")\n        users.sort(function(a, b) {\n            // var textA = a.name.first.toLowerCase();\n            // var textB = b.name.first.toLowerCase();\n            const isReversed = (order === \"asc\") ? 1 : -1 \n            return console.log(a, b\n                // isReversed * a.name.first.localeCompare(b.name.first)\n            )\n                // (textA < textB) ? -1 : (textA > textB) ? 1 : 0\n                \n        })\n    }\n\n    searchEmployee = () => {\n        if (this.state.sorted) {\n            return <div>\n                {this.state.filterdUsers.map(users=> (\n                    <EmployeeRow\n                        key={users.dob.date}\n                        img={users.picture.medium}\n                        name={users.name.first + \" \" + users.name.last} \n                        phone={users.cell}\n                        email={users.email}\n                        dob={moment(users.dob.date).format(\"MM-DD-YYYY\")}\n                    />\n                ))}\n            </div>\n        }\n\n        else if(this.state.loading === false) {\n            return <div>\n                {this.state.users.map(users=> (\n                    <EmployeeRow\n                        key={users.dob.date}\n                        img={users.picture.medium}\n                        name={users.name.first + \" \" + users.name.last} \n                        phone={users.cell}\n                        email={users.email}\n                        dob={moment(users.dob.date).format(\"MM-DD-YYYY\")}\n                    /> \n            ))}\n        </div>\n\n        }\n        \n\n    }\n\n    componentDidMount() {\n        API.getEmployee()\n        .then(res =>  {\n            // console.log(res.data)\n            this.setState({ users: res.data.results, loading: false })\n        })\n        .catch(err => console.log(err));\n    }\n\n    render() {\n        return ( \n                \n                <div>\n                    <SearchBox handleInput={this.handleInputChange}/>\n                    <Titles click={this.handleSort}/>\n                    {this.searchEmployee()}\n                </div>    \n                 \n\n        )\n    }\n}\n\nexport default Search;\n\n"]},"metadata":{},"sourceType":"module"}